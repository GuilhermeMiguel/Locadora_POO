<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<head>
<title>Cadastro</title>

<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" />
<link href="https://fonts.googleapis.com/css?family=Montserrat"
	rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Lato"
	rel="stylesheet" type="text/css" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<link rel="canonical"
	href="https://getbootstrap.com/docs/4.0/examples/pricing/" />


<link rel="stylesheet" type="text/css"
	href="/Locadora_POO/resources/css/cadastro.css" />

<script>

    
    function limpa_formulario_cep() {
            //Limpa valores do formulário de cep.
            document.getElementById('rua').value=("");
            document.getElementById('bairro').value=("");
            document.getElementById('cidade').value=("");
            document.getElementById('estado').value=("");
            
    }

    function meu_callback(conteudo) {
        if (!("erro" in conteudo)) {
            //Atualiza os campos com os valores.
            document.getElementById('rua').value=(conteudo.logradouro);
            document.getElementById('bairro').value=(conteudo.bairro);
            document.getElementById('cidade').value=(conteudo.localidade);
            document.getElementById('estado').value=(conteudo.uf);
        } //end if.
        else {
            //CEP não Encontrado.
            limpa_formulario_cep();
            alert("CEP não encontrado.");
            document.getElementById('cep').value=("");
        }
    }
    
    </script>

<script>

function formatar(mascara, documento){
  var i = documento.value.length;
  var saida = mascara.substring(0,1);
  var texto = mascara.substring(i);
  
  if (texto.substring(0,1) != saida){
            documento.value += texto.substring(0,1);
  }
  
}
</script>

<script>
 
function idade (){
    var data=document.getElementById("dtnasc").value;
    var dia=data.substr(0, 2);
    var mes=data.substr(3, 2);
    var ano=data.substr(6, 4);
    var d = new Date();
    var ano_atual = d.getFullYear(),
        mes_atual = d.getMonth() + 1,
        dia_atual = d.getDate();
        
        ano=+ano,
        mes=+mes,
        dia=+dia;
        
    var idade=ano_atual-ano;
    
    if (mes_atual &lt; mes || mes_atual == mes_aniversario and dia_atual &lt; dia) {
        idade--;
    }
return idade;
} 
  </script>

<script>
  
  
function exibe(i) {
    
   
        
	document.getElementById(i).readOnly= true;
	    
		
	
    
}

</script>
<script>

function desabilita(i){
    
     document.getElementById(i).disabled = true;    
    }
    
    </script>

<script>
function habilita(i)
    {
        document.getElementById(i).disabled = false;
    }
</script>

<script>

function showhide()
 {
       var div = document.getElementById("newpost");
       
       if(idade()>=18){
 
    div.style.display = "none";
}
else if(idade()&lt;18) {
    div.style.display = "inline";
}

 }

 </script>

</head>

<body id="myPage" data-spy="scroll" data-target=".navbar"
	data-offset="60">

	<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#myNavbar">
				<span class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#myPage">PORTO SEGURO</a>
		</div>


		<div class="collapse navbar-collapse" id="myNavbar">
			<ul class="nav navbar-nav navbar-right">
				<li><a href="telaInicia.xhtml">HOME</a></li>
				<li><a href="telaInicia.xhtml#pricing">VEICULOS</a></li>
				<li><a href="login.xhtml">LOGIN</a></li>
			</ul>
		</div>
	</div>
	</nav>

<h:form rendered="#{usuarioLogado != null}"> <!-- se usuário logado não for null o link de Logout aparece -->
	<div id="logout">
			<img src="https://img.icons8.com/ios/26/000000/logout-rounded-left-filled.png"/>
			<br/>
			<h:commandLink value="Logout" action="#{loginController.deslogar}"/>
		</div>
		</h:form>

	<h:form class="form-horizontal">

		<div class="col-md-11 control-label">
			<p class="help-block">
				<h11>*</h11>
				Campo Obrigatório
			</p>
		</div>



		<!-- Text input-->
		<div class="form-group">
			<label class="col-md-2 control-label" for="Nome">Nome <h11>*</h11></label>

			<div class="col-md-8">
				<h:inputText id="Nome" name="Nome" value="#{usuarioController.usuario.nome}" styleClass="form-control input-md" required="" type="text" />
			</div>

		</div>



		<!-- Text input-->
		<div class="form-group">
			
			<label class="col-md-2 control-label" for="Nome">CPF <h11>*</h11></label>
			<div class="col-md-2">
				<h:inputText id="documento" name="cpf" value="#{usuarioController.usuario.documento}" pt:placeholder="Apenas números" styleClass="form-control input-md" required="" type="text" maxlength="11" pattern="[0-9]+$" />
			</div>

			<label class="col-md-1 control-label" for="Nome">Nascimento<h11>*</h11></label>
			<div class="col-md-2">
				<h:inputText id="dataNascimento" name="dtnasc" value="#{usuarioController.usuario.dataNascimento}" pt:placeholder="DD/MM/AAAA" styleClass="form-control input-md" required="" type="text" maxlength="10" OnKeyPress="formatar('##/##/####', this)" onBlur="showhide()" />
			</div>

			<!-- Multiple Radios (inline) -->

			<label class="col-md-1 control-label" for="radios">Sexo</label>
			<div class="col-md-2">
				<h:inputText id="Sexo" name="Sexo" value="#{usuarioController.usuario.sexo}" styleClass="form-control input-md" required="" type="text" />
 			</div> 
		</div>

		<!-- Prepended text-->
		<div class="form-group">
		
			<label class="col-md-2 control-label" for="prependedtext1">Telefone	1<h11>*</h11>
			</label>
			<div class="col-md-2">
				<div class="input-group">
					<span class="input-group-addon"><i
						class="glyphicon glyphicon-earphone"></i></span>
					<h:inputText id="telefone_01" name="prependedtext1" value="#{usuarioController.usuario.telefone_01}" styleClass="form-control" pt:placeholder="XX XXXXX-XXXX" required="" type="text" maxlength="13" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$" OnKeyPress="formatar('## #####-####', this)" />		
				</div>
			</div>

			
			<label class="col-md-1 control-label" for="prependedtext2">Celular</label>
			<div class="col-md-2">
				<div class="input-group">
					<span class="input-group-addon"><i
						class="glyphicon glyphicon-earphone"></i></span>
					<h:inputText id="telefone_02" name="prependedtext2" value="#{usuarioController.usuario.telefone_02}" styleClass="form-control" pt:placeholder="XX XXXXX-XXXX" type="text" maxlength="13" pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$" OnKeyPress="formatar('## #####-####', this)" />			
				</div>
			</div>
		</div>


		<!-- Prepended text-->
		<div class="form-group">
		
			
			<label class="col-md-2 control-label" for="prependedtext3">Email
				<h11>*</h11>
			</label>
			<div class="col-md-4">
				<div class="input-group">
					<span class="input-group-addon"><i
						class="glyphicon glyphicon-envelope"></i></span>
					<h:inputText id="prependedtext3" name="prependedtext3" value="#{usuarioController.usuario.email}" styleClass="form-control" pt:placeholder="email@email.com" required="" type="text" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" />		
				</div>
			</div>
			
			
			<label class="col-md-1 control-label" for="prependedtext4">Senha</label>
			<div class="col-md-4">
				<div class="input-group">
					<span class="input-group-addon"><i
						class="glyphicon glyphicon-lock"></i></span>
					<h:inputText id="prependedtext4" name="prependedtext4" value="#{usuarioController.usuario.senha}" styleClass="form-control" pt:placeholder="Senha" required="" type="password" />
				</div>
			</div>
			
		</div>


		<!-- Search input-->
		
		<div class="form-group">
			
			<label class="col-md-2 control-label" for="CEP">CEP <h11>*</h11></label>
			<div class="col-md-2">
				<h:inputText id="cep" name="cep" value="#{usuarioController.usuario.cep}" pt:placeholder="Apenas números" class="form-control input-md" required="" type="search" maxlength="8" pattern="[0-9]+$" />                  
			</div>
			
<!-- 			<div class="col-md-2"> -->
<!-- 				<button type="button" class="btn btn-primary" -->
<!-- 					onclick="pesquisacep(cep.value)">Pesquisar</button> -->
<!-- 			</div> -->
		</div>

		<!-- Prepended text-->
		<div class="form-group">
			<label class="col-md-2 control-label" for="prependedtext5">Endereço</label>
			<div class="col-md-4">
				<div class="input-group">
					<span class="input-group-addon">Rua</span>
					<h:inputText id="logradouro" name="rua" value="#{usuarioController.usuario.logradouro}" styleClass="form-control" required="" readonly="readonly" type="text" />
				</div>

			</div>
			<div class="col-md-2">
				<div class="input-group">
					<span class="input-group-addon">Nº <h11>*</h11></span>
					<h:inputText id="numero" name="numero" value="#{usuarioController.usuario.numero}" styleClass="form-control" required="" type="text" />
				</div>

			</div>

			<div class="col-md-3">
				<div class="input-group">
					<span class="input-group-addon">Bairro</span>
					<h:inputText id="bairro" name="bairro" value="#{usuarioController.usuario.bairro}" styleClass="form-control" required="" readonly="readonly" type="text" />
				</div>
			</div>
		</div>

		<div class="form-group">
			<label class="col-md-2 control-label" for="prependedtext6"></label>
			<div class="col-md-4">
				<div class="input-group"> 
					<span class="input-group-addon">Cidade</span>
				<h:inputText id="cidade" name="cidade" value="#{usuarioController.usuario.cidade}" styleClass="form-control" required="" readonly="readonly" type="text" />
			</div> 
		</div> 

<div class="col-md-2"> 
				<div class="input-group"> 
				<span class="input-group-addon">Estado</span> 
					<h:inputText id="estado" name="estado" value="#{usuarioController.usuario.estado}" styleClass="form-control" required="" readonly="readonly" type="text" />         
			</div> 
			</div> 
 		</div> 
	
	
		<div class="form-group">
			<div class="col-md-2"></div>
			<div class="col-md-2">
				<h:commandButton type="buttonp" value="Pesquisar" actionListener="#{usuarioController.pesquisaUsuario}" styleClass="btn btn-primary" />
			</div>
			<div class="col-md-2">
				<h:commandButton type="buttone" value="Excluir" actionListener="#{usuarioController.apagarUsuario}"	styleClass="btn btn-primary" />
			</div>
			<div class="col-md-2">
				<h:commandButton type="buttona" value="Alterar" actionListener="#{usuarioController.atualizaUsuario}" styleClass="btn btn-primary" />
			</div>
			<div class="col-md-2">
				<h:commandButton type="buttons" value="Salvar" actionListener="#{usuarioController.salvaUsuario}" styleClass="btn btn-primary" />
			</div>
		</div>
						
	</h:form>

</body>
</html>